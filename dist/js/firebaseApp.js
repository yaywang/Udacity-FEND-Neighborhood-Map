function startDatabaseQueries(){}function writeUserData(e,n,t){firebase.database().ref("users/"+e).set({username:n,email:t}).then(function(){},function(e){console.log(e),alert("An error has occured writing your data into the database.")})}var signInButton=$("#sign-in-button"),currentUserId=ko.observable("");window.addEventListener("load",function(){var e=$("#sign-in-button");e.click(function(){if("Sign In"==e.text()){console.log("User clicked to sign in.");var n=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(n).then(function(){},function(e){console.log(e),alert("A signin error has occured. Please reload the page.")})}else console.log("User clicked to sign out."),firebase.auth().signOut().then(function(){},function(e){console.log(e),alert("A signout error has occurred. Please reload the page.")})}),firebase.auth().onAuthStateChanged(function(n){if(n){writeUserData(n.uid,n.displayName,n.email);var t=n.displayName;console.log("User "+t+" signs in.");var o=t.substring(0,t.indexOf(" "));e.text("Sign out "+o)}else console.log("The user signs out."),e.text("Sign In")})});